==================================================
IKPA ONBOARDING & FINANCIAL CRUD API TEST RESULTS
==================================================
Date: Wed Feb  4 18:17:18 WAT 2026

==========================================
ONBOARDING ENDPOINTS
==========================================

1. GET /v1/onboarding/status
----------------------------
{
  "success": true,
  "data": {
    "isCompleted": false,
    "currentStep": "profile",
    "progressPercent": 0,
    "steps": [
      {
        "id": "profile",
        "name": "Profile Setup",
        "order": 1,
        "required": true,
        "status": "pending",
        "description": "Set up your country, currency, and employment type"
      },
      {
        "id": "income",
        "name": "Income Sources",
        "order": 2,
        "required": true,
        "status": "pending",
        "description": "Add your income sources (salary, freelance, etc.)"
      },
      {
        "id": "savings",
        "name": "Savings Accounts",
        "order": 3,
        "required": false,
        "status": "pending",
        "description": "Add your savings and emergency funds"
      },
      {
        "id": "debts",
        "name": "Debts & Loans",
        "order": 4,
        "required": false,
        "status": "pending",
        "description": "Add any debts or loans you have"
      },
      {
        "id": "goals",
        "name": "Financial Goals",
        "order": 5,
        "required": true,
        "status": "pending",
        "description": "Create at least one financial goal"
      },
      {
        "id": "budgets",
        "name": "Category Budgets",
        "order": 6,
        "required": false,
        "status": "pending",
        "description": "Set spending limits for expense categories"
      }
    ],
    "profile": {
      "country": "NIGERIA",
      "currency": "NGN"
    },
    "startedAt": "2026-02-04T17:17:18.841Z",
    "nextAction": "Set up your country, currency, and employment type"
  },
  "timestamp": "2026-02-04T17:17:18.844Z"
}

2. PATCH /v1/onboarding/profile
--------------------------------
{
  "success": true,
  "data": {
    "country": "NIGERIA",
    "currency": "NGN",
    "employmentType": "EMPLOYED",
    "dateOfBirth": "1995-06-15",
    "profileStepComplete": true
  },
  "timestamp": "2026-02-04T17:17:18.858Z"
}

3. POST /v1/onboarding/steps/profile/complete
----------------------------------------------
{
  "success": true,
  "data": {
    "step": "profile",
    "action": "completed",
    "nextStep": "income",
    "progressPercent": 33,
    "message": "Add your income sources (salary, freelance, etc.)"
  },
  "timestamp": "2026-02-04T17:17:18.870Z"
}

==========================================
FINANCIAL CRUD - INCOME
==========================================

4. POST /v1/finance/income (Create)
------------------------------------
{
  "success": true,
  "data": {
    "id": "4e9a8f04-d632-4db9-916a-2084edd4f6f7",
    "name": "Monthly Salary",
    "type": "SALARY",
    "amount": 500000,
    "currency": "NGN",
    "frequency": "MONTHLY",
    "variancePercentage": 0,
    "description": null,
    "isActive": true,
    "startDate": "2026-02-04T17:17:18.884Z",
    "endDate": null,
    "createdAt": "2026-02-04T17:17:18.885Z",
    "updatedAt": "2026-02-04T17:17:18.885Z"
  },
  "timestamp": "2026-02-04T17:17:18.887Z"
}

5. GET /v1/finance/income (List)
---------------------------------
{
  "success": true,
  "data": {
    "items": [
      {
        "id": "4e9a8f04-d632-4db9-916a-2084edd4f6f7",
        "name": "Monthly Salary",
        "type": "SALARY",
        "amount": 500000,
        "currency": "NGN",
        "frequency": "MONTHLY",
        "variancePercentage": 0,
        "description": null,
        "isActive": true,
        "startDate": "2026-02-04T17:17:18.884Z",
        "endDate": null,
        "createdAt": "2026-02-04T17:17:18.885Z",
        "updatedAt": "2026-02-04T17:17:18.885Z"
      }
    ],
    "count": 1,
    "totalMonthly": 500000
  },
  "timestamp": "2026-02-04T17:17:18.928Z"
}

6. GET /v1/finance/income/:id
------------------------------
{
  "success": true,
  "data": {
    "id": "4e9a8f04-d632-4db9-916a-2084edd4f6f7",
    "name": "Monthly Salary",
    "type": "SALARY",
    "amount": 500000,
    "currency": "NGN",
    "frequency": "MONTHLY",
    "variancePercentage": 0,
    "description": null,
    "isActive": true,
    "startDate": "2026-02-04T17:17:18.884Z",
    "endDate": null,
    "createdAt": "2026-02-04T17:17:18.885Z",
    "updatedAt": "2026-02-04T17:17:18.885Z"
  },
  "timestamp": "2026-02-04T17:17:18.939Z"
}

7. PATCH /v1/finance/income/:id (Update)
-----------------------------------------
{
  "success": true,
  "data": {
    "id": "4e9a8f04-d632-4db9-916a-2084edd4f6f7",
    "name": "Updated Salary",
    "type": "SALARY",
    "amount": 550000,
    "currency": "NGN",
    "frequency": "MONTHLY",
    "variancePercentage": 0,
    "description": null,
    "isActive": true,
    "startDate": "2026-02-04T17:17:18.884Z",
    "endDate": null,
    "createdAt": "2026-02-04T17:17:18.885Z",
    "updatedAt": "2026-02-04T17:17:18.954Z"
  },
  "timestamp": "2026-02-04T17:17:18.955Z"
}

8. DELETE /v1/finance/income/:id
---------------------------------

9. POST /v1/finance/income (Create for onboarding)
---------------------------------------------------
{
  "success": true,
  "data": {
    "id": "f61a9c07-3be8-4050-ad08-d981d3dd4231",
    "name": "New Salary",
    "type": "SALARY",
    "amount": 600000,
    "currency": "NGN",
    "frequency": "MONTHLY",
    "variancePercentage": 0,
    "description": null,
    "isActive": true,
    "startDate": "2026-02-04T17:17:18.982Z",
    "endDate": null,
    "createdAt": "2026-02-04T17:17:18.983Z",
    "updatedAt": "2026-02-04T17:17:18.983Z"
  },
  "timestamp": "2026-02-04T17:17:18.983Z"
}

10. POST /v1/onboarding/steps/income/complete
----------------------------------------------
{
  "success": true,
  "data": {
    "step": "income",
    "action": "completed",
    "nextStep": "savings",
    "progressPercent": 67,
    "message": "Add your savings and emergency funds"
  },
  "timestamp": "2026-02-04T17:17:19.011Z"
}

==========================================
FINANCIAL CRUD - SAVINGS
==========================================

11. POST /v1/finance/savings (Create)
--------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property targetAmount should not exist",
        "Type must be one of: BANK_ACCOUNT, MOBILE_MONEY, CASH, FIXED_DEPOSIT, AJO_SUSU, COOPERATIVE, OTHER"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.021Z"
}

12. GET /v1/finance/savings (List)
-----------------------------------
{
  "success": true,
  "data": {
    "items": [],
    "count": 0,
    "totalBalance": 0,
    "emergencyFundTotal": 0
  },
  "timestamp": "2026-02-04T17:17:19.061Z"
}

13. GET /v1/finance/savings/:id
--------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.072Z"
}

14. PATCH /v1/finance/savings/:id (Update)
-------------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.087Z"
}

15. POST /v1/onboarding/steps/savings/skip
-------------------------------------------
{
  "success": true,
  "data": {
    "step": "savings",
    "action": "skipped",
    "nextStep": "debts",
    "progressPercent": 67,
    "message": "Add any debts or loans you have"
  },
  "timestamp": "2026-02-04T17:17:19.103Z"
}

==========================================
FINANCIAL CRUD - INVESTMENTS
==========================================

16. POST /v1/finance/investments (Create)
------------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property purchasePrice should not exist",
        "property currentValue should not exist",
        "property quantity should not exist",
        "Value cannot exceed 1 trillion",
        "Value cannot be negative",
        "Value must be a number"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.116Z"
}

17. GET /v1/finance/investments (List)
---------------------------------------
{
  "success": true,
  "data": {
    "items": [],
    "count": 0,
    "totalValue": 0,
    "totalUnrealizedGain": 0
  },
  "timestamp": "2026-02-04T17:17:19.156Z"
}

18. GET /v1/finance/investments/:id
------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.167Z"
}

19. PATCH /v1/finance/investments/:id (Update)
------------------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property currentValue should not exist"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.181Z"
}

==========================================
FINANCIAL CRUD - DEBTS
==========================================

20. POST /v1/finance/debts (Create)
------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property currentBalance should not exist",
        "Type must be one of: BANK_LOAN, CREDIT_CARD, BNPL, PERSONAL_LOAN, MORTGAGE, STUDENT_LOAN, BUSINESS_LOAN, OTHER",
        "Remaining balance cannot exceed 1 trillion",
        "Remaining balance cannot be negative",
        "Remaining balance must be a number",
        "startDate must be a valid ISO 8601 date string"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.199Z"
}

21. GET /v1/finance/debts (List)
---------------------------------
{
  "success": true,
  "data": {
    "items": [],
    "count": 0,
    "totalRemainingBalance": 0,
    "totalMinimumPayments": 0
  },
  "timestamp": "2026-02-04T17:17:19.243Z"
}

22. GET /v1/finance/debts/:id
------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.255Z"
}

23. PATCH /v1/finance/debts/:id (Update)
-----------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property currentBalance should not exist"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.270Z"
}

24. POST /v1/onboarding/steps/debts/skip
-----------------------------------------
{
  "success": true,
  "data": {
    "step": "debts",
    "action": "skipped",
    "nextStep": "goals",
    "progressPercent": 67,
    "message": "Create at least one financial goal"
  },
  "timestamp": "2026-02-04T17:17:19.291Z"
}

==========================================
FINANCIAL CRUD - GOALS
==========================================

25. POST /v1/finance/goals (Create)
------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "Category must be one of: EMERGENCY_FUND, SAVINGS, INVESTMENT, DEBT_PAYOFF, MAJOR_PURCHASE, EDUCATION, TRAVEL, FAMILY, BUSINESS, RETIREMENT, OTHER",
        "Priority cannot exceed 100",
        "Priority cannot be negative",
        "Priority must be an integer"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.303Z"
}

26. GET /v1/finance/goals (List)
---------------------------------
{
  "success": true,
  "data": {
    "items": [],
    "count": 0,
    "totalTarget": 0,
    "totalCurrent": 0,
    "overallProgress": 0
  },
  "timestamp": "2026-02-04T17:17:19.345Z"
}

27. GET /v1/finance/goals/:id
------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.357Z"
}

28. PATCH /v1/finance/goals/:id (Update)
-----------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.377Z"
}

29. POST /v1/finance/goals/:id/contribute
------------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.392Z"
}

30. POST /v1/onboarding/steps/goals/complete
---------------------------------------------
{
  "success": false,
  "error": {
    "code": "ONBOARD_16005",
    "message": "Cannot complete \"goals\" step. Add at least one financial goal."
  },
  "timestamp": "2026-02-04T17:17:19.407Z"
}

==========================================
FINANCIAL CRUD - BUDGETS
==========================================

31. POST /v1/finance/budgets (Create)
--------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property category should not exist",
        "property alertThreshold should not exist",
        "Category ID is required",
        "Category ID must be a valid UUID"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.420Z"
}

32. GET /v1/finance/budgets (List)
-----------------------------------
{
  "success": true,
  "data": {
    "items": [],
    "count": 0,
    "totalBudget": 0,
    "totalSpent": 0,
    "totalRemaining": 0
  },
  "timestamp": "2026-02-04T17:17:19.462Z"
}

33. GET /v1/finance/budgets/:id
--------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed (uuid is expected)"
  },
  "timestamp": "2026-02-04T17:17:19.472Z"
}

34. PATCH /v1/finance/budgets/:id (Update)
-------------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "property alertThreshold should not exist"
      ]
    }
  },
  "timestamp": "2026-02-04T17:17:19.487Z"
}

35. POST /v1/onboarding/steps/budgets/skip
-------------------------------------------
{
  "success": true,
  "data": {
    "step": "budgets",
    "action": "skipped",
    "nextStep": "goals",
    "progressPercent": 67,
    "message": "Create at least one financial goal"
  },
  "timestamp": "2026-02-04T17:17:19.502Z"
}

==========================================
ONBOARDING COMPLETION
==========================================

36. GET /v1/onboarding/status (Before completion)
--------------------------------------------------
{
  "success": true,
  "data": {
    "isCompleted": false,
    "currentStep": "goals",
    "progressPercent": 67,
    "steps": [
      {
        "id": "profile",
        "name": "Profile Setup",
        "order": 1,
        "required": true,
        "status": "completed",
        "description": "Set up your country, currency, and employment type"
      },
      {
        "id": "income",
        "name": "Income Sources",
        "order": 2,
        "required": true,
        "status": "completed",
        "description": "Add your income sources (salary, freelance, etc.)"
      },
      {
        "id": "savings",
        "name": "Savings Accounts",
        "order": 3,
        "required": false,
        "status": "skipped",
        "description": "Add your savings and emergency funds"
      },
      {
        "id": "debts",
        "name": "Debts & Loans",
        "order": 4,
        "required": false,
        "status": "skipped",
        "description": "Add any debts or loans you have"
      },
      {
        "id": "goals",
        "name": "Financial Goals",
        "order": 5,
        "required": true,
        "status": "pending",
        "description": "Create at least one financial goal"
      },
      {
        "id": "budgets",
        "name": "Category Budgets",
        "order": 6,
        "required": false,
        "status": "skipped",
        "description": "Set spending limits for expense categories"
      }
    ],
    "profile": {
      "country": "NIGERIA",
      "currency": "NGN",
      "employmentType": "EMPLOYED",
      "dateOfBirth": "1995-06-15"
    },
    "startedAt": "2026-02-04T17:17:18.841Z",
    "nextAction": "Create at least one financial goal"
  },
  "timestamp": "2026-02-04T17:17:19.516Z"
}

37. POST /v1/onboarding/complete
---------------------------------
{
  "success": false,
  "error": {
    "code": "ONBOARD_16005",
    "message": "Cannot complete \"onboarding\" step. Complete these required steps: Financial Goals"
  },
  "timestamp": "2026-02-04T17:17:19.529Z"
}

38. GET /v1/onboarding/status (After completion)
-------------------------------------------------
{
  "success": true,
  "data": {
    "isCompleted": false,
    "currentStep": "goals",
    "progressPercent": 67,
    "steps": [
      {
        "id": "profile",
        "name": "Profile Setup",
        "order": 1,
        "required": true,
        "status": "completed",
        "description": "Set up your country, currency, and employment type"
      },
      {
        "id": "income",
        "name": "Income Sources",
        "order": 2,
        "required": true,
        "status": "completed",
        "description": "Add your income sources (salary, freelance, etc.)"
      },
      {
        "id": "savings",
        "name": "Savings Accounts",
        "order": 3,
        "required": false,
        "status": "skipped",
        "description": "Add your savings and emergency funds"
      },
      {
        "id": "debts",
        "name": "Debts & Loans",
        "order": 4,
        "required": false,
        "status": "skipped",
        "description": "Add any debts or loans you have"
      },
      {
        "id": "goals",
        "name": "Financial Goals",
        "order": 5,
        "required": true,
        "status": "pending",
        "description": "Create at least one financial goal"
      },
      {
        "id": "budgets",
        "name": "Category Budgets",
        "order": 6,
        "required": false,
        "status": "skipped",
        "description": "Set spending limits for expense categories"
      }
    ],
    "profile": {
      "country": "NIGERIA",
      "currency": "NGN",
      "employmentType": "EMPLOYED",
      "dateOfBirth": "1995-06-15"
    },
    "startedAt": "2026-02-04T17:17:18.841Z",
    "nextAction": "Create at least one financial goal"
  },
  "timestamp": "2026-02-04T17:17:19.544Z"
}

==========================================
CASH FLOW SCORE VERIFICATION
==========================================

39. GET /v1/finance/score
-------------------------
{
  "success": true,
  "data": {
    "finalScore": 100,
    "components": {
      "savingsRate": {
        "value": 100,
        "score": 100
      },
      "runwayMonths": {
        "value": 24,
        "score": 100
      },
      "debtToIncome": {
        "value": 0,
        "score": 100
      },
      "incomeStability": {
        "value": 0,
        "score": 100
      },
      "dependencyRatio": {
        "value": 0,
        "score": 100
      }
    },
    "calculation": "(100*0.3) + (100*0.25) + (100*0.2) + (100*0.15) + (100*0.1)",
    "timestamp": "2026-02-04T17:17:19.571Z",
    "label": "Excellent",
    "color": "#10B981"
  },
  "timestamp": "2026-02-04T17:17:19.574Z"
}

==========================================
TEST COMPLETED
==========================================

==========================================
CORRECTED TESTS WITH PROPER FIELD NAMES
==========================================
Date: Wed Feb  4 18:19:59 WAT 2026

S1. POST /v1/finance/savings (Corrected)
-----------------------------------------
{
  "success": true,
  "data": {
    "id": "18db7550-0aec-4e2b-bf35-b41b25927fc9",
    "name": "Emergency Fund",
    "type": "BANK_ACCOUNT",
    "balance": 100000,
    "currency": "NGN",
    "interestRate": null,
    "institution": "GTBank",
    "accountNumber": null,
    "isEmergencyFund": true,
    "isActive": true,
    "createdAt": "2026-02-04T17:19:59.608Z",
    "updatedAt": "2026-02-04T17:19:59.608Z"
  },
  "timestamp": "2026-02-04T17:19:59.621Z"
}
SAVINGS_ID: 18db7550-0aec-4e2b-bf35-b41b25927fc9

S2. GET /v1/finance/savings/18db7550-0aec-4e2b-bf35-b41b25927fc9
------------------------------------------
{
  "success": true,
  "data": {
    "id": "18db7550-0aec-4e2b-bf35-b41b25927fc9",
    "name": "Emergency Fund",
    "type": "BANK_ACCOUNT",
    "balance": 100000,
    "currency": "NGN",
    "interestRate": null,
    "institution": "GTBank",
    "accountNumber": null,
    "isEmergencyFund": true,
    "isActive": true,
    "createdAt": "2026-02-04T17:19:59.608Z",
    "updatedAt": "2026-02-04T17:19:59.608Z"
  },
  "timestamp": "2026-02-04T17:19:59.662Z"
}

S3. PATCH /v1/finance/savings/18db7550-0aec-4e2b-bf35-b41b25927fc9
-------------------------------------------
{
  "success": true,
  "data": {
    "id": "18db7550-0aec-4e2b-bf35-b41b25927fc9",
    "name": "Emergency Fund",
    "type": "BANK_ACCOUNT",
    "balance": 150000,
    "currency": "NGN",
    "interestRate": null,
    "institution": "GTBank",
    "accountNumber": null,
    "isEmergencyFund": true,
    "isActive": true,
    "createdAt": "2026-02-04T17:19:59.608Z",
    "updatedAt": "2026-02-04T17:19:59.676Z"
  },
  "timestamp": "2026-02-04T17:19:59.679Z"
}

I1. POST /v1/finance/investments (Corrected)
----------------------------------------------
{
  "success": true,
  "data": {
    "id": "b5a5ac24-f3cd-4d0e-b9d3-8cda6c4e521f",
    "name": "Stock Portfolio",
    "type": "STOCKS",
    "value": 220000,
    "currency": "NGN",
    "costBasis": 200000,
    "institution": "Stanbic IBTC",
    "notes": null,
    "purchaseDate": null,
    "isActive": true,
    "createdAt": "2026-02-04T17:19:59.690Z",
    "updatedAt": "2026-02-04T17:19:59.690Z",
    "unrealizedGain": 20000
  },
  "timestamp": "2026-02-04T17:19:59.695Z"
}
INVESTMENT_ID: b5a5ac24-f3cd-4d0e-b9d3-8cda6c4e521f

I2. GET /v1/finance/investments/b5a5ac24-f3cd-4d0e-b9d3-8cda6c4e521f
-------------------------------------------------
{
  "success": true,
  "data": {
    "id": "b5a5ac24-f3cd-4d0e-b9d3-8cda6c4e521f",
    "name": "Stock Portfolio",
    "type": "STOCKS",
    "value": 220000,
    "currency": "NGN",
    "costBasis": 200000,
    "institution": "Stanbic IBTC",
    "notes": null,
    "purchaseDate": null,
    "isActive": true,
    "createdAt": "2026-02-04T17:19:59.690Z",
    "updatedAt": "2026-02-04T17:19:59.690Z",
    "unrealizedGain": 20000
  },
  "timestamp": "2026-02-04T17:19:59.733Z"
}

I3. PATCH /v1/finance/investments/b5a5ac24-f3cd-4d0e-b9d3-8cda6c4e521f
---------------------------------------------------
{
  "success": true,
  "data": {
    "id": "b5a5ac24-f3cd-4d0e-b9d3-8cda6c4e521f",
    "name": "Stock Portfolio",
    "type": "STOCKS",
    "value": 250000,
    "currency": "NGN",
    "costBasis": 200000,
    "institution": "Stanbic IBTC",
    "notes": null,
    "purchaseDate": null,
    "isActive": true,
    "createdAt": "2026-02-04T17:19:59.690Z",
    "updatedAt": "2026-02-04T17:19:59.747Z",
    "unrealizedGain": 50000
  },
  "timestamp": "2026-02-04T17:19:59.748Z"
}

D1. POST /v1/finance/debts (Corrected)
----------------------------------------
{
  "success": true,
  "data": {
    "id": "1b00c6e7-05cc-4996-8377-252588a5874a",
    "name": "Car Loan",
    "type": "BANK_LOAN",
    "originalAmount": 2000000,
    "remainingBalance": 1500000,
    "currency": "NGN",
    "interestRate": 12,
    "minimumPayment": 50000,
    "dueDate": null,
    "institution": null,
    "notes": null,
    "isActive": true,
    "startDate": "2025-01-15T00:00:00.000Z",
    "targetPayoffDate": null,
    "createdAt": "2026-02-04T17:19:59.761Z",
    "updatedAt": "2026-02-04T17:19:59.761Z",
    "percentPaidOff": 25
  },
  "timestamp": "2026-02-04T17:19:59.765Z"
}
DEBT_ID: 1b00c6e7-05cc-4996-8377-252588a5874a

D2. GET /v1/finance/debts/1b00c6e7-05cc-4996-8377-252588a5874a
-------------------------------------
{
  "success": true,
  "data": {
    "id": "1b00c6e7-05cc-4996-8377-252588a5874a",
    "name": "Car Loan",
    "type": "BANK_LOAN",
    "originalAmount": 2000000,
    "remainingBalance": 1500000,
    "currency": "NGN",
    "interestRate": 12,
    "minimumPayment": 50000,
    "dueDate": null,
    "institution": null,
    "notes": null,
    "isActive": true,
    "startDate": "2025-01-15T00:00:00.000Z",
    "targetPayoffDate": null,
    "createdAt": "2026-02-04T17:19:59.761Z",
    "updatedAt": "2026-02-04T17:19:59.761Z",
    "percentPaidOff": 25
  },
  "timestamp": "2026-02-04T17:19:59.805Z"
}

D3. PATCH /v1/finance/debts/1b00c6e7-05cc-4996-8377-252588a5874a
---------------------------------------
{
  "success": true,
  "data": {
    "id": "1b00c6e7-05cc-4996-8377-252588a5874a",
    "name": "Car Loan",
    "type": "BANK_LOAN",
    "originalAmount": 2000000,
    "remainingBalance": 1400000,
    "currency": "NGN",
    "interestRate": 12,
    "minimumPayment": 50000,
    "dueDate": null,
    "institution": null,
    "notes": null,
    "isActive": true,
    "startDate": "2025-01-15T00:00:00.000Z",
    "targetPayoffDate": null,
    "createdAt": "2026-02-04T17:19:59.761Z",
    "updatedAt": "2026-02-04T17:19:59.820Z",
    "percentPaidOff": 30
  },
  "timestamp": "2026-02-04T17:19:59.820Z"
}

G1. POST /v1/finance/goals (Corrected)
----------------------------------------
{
  "success": true,
  "data": {
    "id": "b33522a4-3c29-4f87-aa36-fbbe899a58e9",
    "name": "House Down Payment",
    "category": "MAJOR_PURCHASE",
    "targetAmount": 5000000,
    "currentAmount": 500000,
    "currency": "NGN",
    "description": null,
    "targetDate": "2027-12-31T00:00:00.000Z",
    "priority": 1,
    "status": "ACTIVE",
    "createdAt": "2026-02-04T17:19:59.833Z",
    "updatedAt": "2026-02-04T17:19:59.833Z",
    "progressPercent": 10,
    "remainingAmount": 4500000
  },
  "timestamp": "2026-02-04T17:19:59.835Z"
}
GOAL_ID: b33522a4-3c29-4f87-aa36-fbbe899a58e9

G2. GET /v1/finance/goals/b33522a4-3c29-4f87-aa36-fbbe899a58e9
-------------------------------------
{
  "success": true,
  "data": {
    "id": "b33522a4-3c29-4f87-aa36-fbbe899a58e9",
    "name": "House Down Payment",
    "category": "MAJOR_PURCHASE",
    "targetAmount": 5000000,
    "currentAmount": 500000,
    "currency": "NGN",
    "description": null,
    "targetDate": "2027-12-31T00:00:00.000Z",
    "priority": 1,
    "status": "ACTIVE",
    "createdAt": "2026-02-04T17:19:59.833Z",
    "updatedAt": "2026-02-04T17:19:59.833Z",
    "progressPercent": 10,
    "remainingAmount": 4500000
  },
  "timestamp": "2026-02-04T17:19:59.877Z"
}

G3. PATCH /v1/finance/goals/b33522a4-3c29-4f87-aa36-fbbe899a58e9
---------------------------------------
{
  "success": true,
  "data": {
    "id": "b33522a4-3c29-4f87-aa36-fbbe899a58e9",
    "name": "House Down Payment",
    "category": "MAJOR_PURCHASE",
    "targetAmount": 6000000,
    "currentAmount": 500000,
    "currency": "NGN",
    "description": null,
    "targetDate": "2027-12-31T00:00:00.000Z",
    "priority": 1,
    "status": "ACTIVE",
    "createdAt": "2026-02-04T17:19:59.833Z",
    "updatedAt": "2026-02-04T17:19:59.888Z",
    "progressPercent": 8,
    "remainingAmount": 5500000
  },
  "timestamp": "2026-02-04T17:19:59.889Z"
}

G4. POST /v1/finance/goals/b33522a4-3c29-4f87-aa36-fbbe899a58e9/contribute
-------------------------------------------------
{
  "success": true,
  "data": {
    "id": "4957789d-a89e-4e81-8bb6-3b0968049b99",
    "goalId": "b33522a4-3c29-4f87-aa36-fbbe899a58e9",
    "amount": 100000,
    "date": "2026-02-04T17:19:59.903Z",
    "note": null,
    "createdAt": "2026-02-04T17:19:59.903Z",
    "newCurrentAmount": 600000,
    "newProgressPercent": 10
  },
  "timestamp": "2026-02-04T17:19:59.907Z"
}

G5. POST /v1/onboarding/steps/goals/complete
-----------------------------------------------
{
  "success": true,
  "data": {
    "step": "goals",
    "action": "completed",
    "nextStep": "complete",
    "progressPercent": 100,
    "message": "All steps done! Complete your onboarding to get started."
  },
  "timestamp": "2026-02-04T17:19:59.923Z"
}

B0. GET /v1/finance/categories (to get category ID)
------------------------------------------------------
{
  "success": false,
  "error": {
    "code": "RES_3001",
    "message": "Cannot GET /v1/finance/categories"
  },
  "timestamp": "2026-02-04T17:19:59.932Z"
}
CATEGORY_ID: 

No categories found - cannot test budgets (categoryId required)

==========================================
ONBOARDING COMPLETION (CORRECTED)
==========================================

C1. GET /v1/onboarding/status (Before completion)
----------------------------------------------------
{
  "success": true,
  "data": {
    "isCompleted": false,
    "currentStep": "complete",
    "progressPercent": 100,
    "steps": [
      {
        "id": "profile",
        "name": "Profile Setup",
        "order": 1,
        "required": true,
        "status": "completed",
        "description": "Set up your country, currency, and employment type"
      },
      {
        "id": "income",
        "name": "Income Sources",
        "order": 2,
        "required": true,
        "status": "completed",
        "description": "Add your income sources (salary, freelance, etc.)"
      },
      {
        "id": "savings",
        "name": "Savings Accounts",
        "order": 3,
        "required": false,
        "status": "skipped",
        "description": "Add your savings and emergency funds"
      },
      {
        "id": "debts",
        "name": "Debts & Loans",
        "order": 4,
        "required": false,
        "status": "skipped",
        "description": "Add any debts or loans you have"
      },
      {
        "id": "goals",
        "name": "Financial Goals",
        "order": 5,
        "required": true,
        "status": "completed",
        "description": "Create at least one financial goal"
      },
      {
        "id": "budgets",
        "name": "Category Budgets",
        "order": 6,
        "required": false,
        "status": "skipped",
        "description": "Set spending limits for expense categories"
      }
    ],
    "profile": {
      "country": "NIGERIA",
      "currency": "NGN",
      "employmentType": "EMPLOYED",
      "dateOfBirth": "1995-06-15"
    },
    "startedAt": "2026-02-04T17:17:18.841Z",
    "nextAction": "Complete your onboarding to get started!"
  },
  "timestamp": "2026-02-04T17:19:59.971Z"
}

C2. POST /v1/onboarding/complete
-----------------------------------
{
  "success": true,
  "completedAt": "2026-02-04T17:19:59.985Z",
  "message": "Welcome to IKPA! Your financial journey begins now."
}

C3. GET /v1/onboarding/status (After completion)
---------------------------------------------------
{
  "success": true,
  "data": {
    "isCompleted": true,
    "currentStep": "complete",
    "progressPercent": 100,
    "steps": [
      {
        "id": "profile",
        "name": "Profile Setup",
        "order": 1,
        "required": true,
        "status": "completed",
        "description": "Set up your country, currency, and employment type"
      },
      {
        "id": "income",
        "name": "Income Sources",
        "order": 2,
        "required": true,
        "status": "completed",
        "description": "Add your income sources (salary, freelance, etc.)"
      },
      {
        "id": "savings",
        "name": "Savings Accounts",
        "order": 3,
        "required": false,
        "status": "skipped",
        "description": "Add your savings and emergency funds"
      },
      {
        "id": "debts",
        "name": "Debts & Loans",
        "order": 4,
        "required": false,
        "status": "skipped",
        "description": "Add any debts or loans you have"
      },
      {
        "id": "goals",
        "name": "Financial Goals",
        "order": 5,
        "required": true,
        "status": "completed",
        "description": "Create at least one financial goal"
      },
      {
        "id": "budgets",
        "name": "Category Budgets",
        "order": 6,
        "required": false,
        "status": "skipped",
        "description": "Set spending limits for expense categories"
      }
    ],
    "profile": {
      "country": "NIGERIA",
      "currency": "NGN",
      "employmentType": "EMPLOYED",
      "dateOfBirth": "1995-06-15"
    },
    "startedAt": "2026-02-04T17:17:18.841Z",
    "completedAt": "2026-02-04T17:19:59.985Z",
    "nextAction": "Complete your onboarding to get started!"
  },
  "timestamp": "2026-02-04T17:20:00.000Z"
}

==========================================
DELETE OPERATIONS
==========================================

Creating items to delete...
Income to delete: ee137589-a01e-4bac-abbd-b8f97bbf46ea
DEL1. DELETE /v1/finance/income/:id
--------------------------------------

HTTP Status: 204

Verify deletion (should be 404 or inactive):
{
  "success": true,
  "data": {
    "id": "ee137589-a01e-4bac-abbd-b8f97bbf46ea",
    "name": "Income To Delete",
    "type": "FREELANCE",
    "amount": 100000,
    "currency": "NGN",
    "frequency": "MONTHLY",
    "variancePercentage": 0,
    "description": null,
    "isActive": false,
    "startDate": "2026-02-04T17:20:00.016Z",
    "endDate": null,
    "createdAt": "2026-02-04T17:20:00.016Z",
    "updatedAt": "2026-02-04T17:20:00.030Z"
  },
  "timestamp": "2026-02-04T17:20:00.040Z"
}

==========================================
CORRECTED TESTS COMPLETED
==========================================

==========================================
BUDGET TESTS (WITH CATEGORIES)
==========================================
Date: Wed Feb  4 18:43:07 WAT 2026

B1. GET /v1/finance/categories
-------------------------------
{
  "success": false,
  "error": {
    "code": "AUTH_1005",
    "message": "Invalid token"
  },
  "timestamp": "2026-02-04T17:43:07.883Z"
}
CATEGORY_ID: 

==========================================
BUDGET TESTS COMPLETED
==========================================

==========================================
BUDGET TESTS (FINAL - WITH FRESH TOKEN)
==========================================
Date: Wed Feb  4 18:56:47 WAT 2026

BF1. GET /v1/finance/categories
--------------------------------
{
  "success": true,
  "data": [
    {
      "id": "cat-streaming",
      "name": "Entertainment",
      "icon": "tv",
      "color": "#8B5CF6",
      "isDefault": true
    },
    {
      "id": "food-dining",
      "name": "Food & Dining",
      "icon": "utensils",
      "color": "#F59E0B",
      "isDefault": true
    },
    {
      "id": "transportation",
      "name": "Transportation",
      "icon": "car",
      "color": "#3B82F6",
      "isDefault": true
    },
    {
      "id": "shopping",
      "name": "Shopping",
      "icon": "shopping-bag",
      "color": "#EC4899",
      "isDefault": true
    },
    {
      "id": "utilities",
      "name": "Utilities",
      "icon": "zap",
      "color": "#8B5CF6",
      "isDefault": true
    },
    {
      "id": "entertainment",
      "name": "Entertainment",
      "icon": "film",
      "color": "#10B981",
      "isDefault": true
    },
    {
      "id": "healthcare",
      "name": "Healthcare",
      "icon": "heart-pulse",
      "color": "#EF4444",
      "isDefault": true
    },
    {
      "id": "family-support",
      "name": "Family Support",
      "icon": "users",
      "color": "#F97316",
      "isDefault": true
    },
    {
      "id": "education",
      "name": "Education",
      "icon": "graduation-cap",
      "color": "#06B6D4",
      "isDefault": true
    },
    {
      "id": "housing",
      "name": "Housing",
      "icon": "home",
      "color": "#84CC16",
      "isDefault": true
    },
    {
      "id": "other",
      "name": "Other",
      "icon": "more-horizontal",
      "color": "#6B7280",
      "isDefault": true
    }
  ],
  "timestamp": "2026-02-04T17:56:47.257Z"
}
CATEGORY_ID: cat-streaming

BF2. POST /v1/finance/budgets (Create)
---------------------------------------
{
  "success": false,
  "error": {
    "code": "VAL_2001",
    "message": "Validation failed",
    "details": {
      "errors": [
        "Category ID must be a valid UUID"
      ]
    }
  },
  "timestamp": "2026-02-04T17:56:47.296Z"
}
BUDGET_ID: 

FAILED: Could not create budget

==========================================
ALL API TESTS COMPLETED
==========================================

==========================================
BUDGET CRUD - WORKING (FINAL)
==========================================
Date: Wed Feb  4 18:59:08 WAT 2026

Budget1. POST /v1/finance/budgets (Create - Transportation)
------------------------------------------------------------
{
  "success": true,
  "data": {
    "id": "b7c2e5cb-990a-41c9-a38c-31502c54a129",
    "category": {
      "id": "transportation",
      "name": "Transportation",
      "icon": "car",
      "color": "#3B82F6"
    },
    "amount": 30000,
    "currency": "NGN",
    "period": "MONTHLY",
    "startDate": "2026-02-04T17:59:08.822Z",
    "isActive": true,
    "createdAt": "2026-02-04T17:59:08.822Z",
    "updatedAt": "2026-02-04T17:59:08.822Z"
  },
  "timestamp": "2026-02-04T17:59:08.823Z"
}

Budget2. GET /v1/finance/budgets (List)
----------------------------------------
{
  "success": true,
  "data": {
    "items": [
      {
        "id": "7751325a-5904-4488-829d-bae7ada78b89",
        "category": {
          "id": "food-dining",
          "name": "Food & Dining",
          "icon": "utensils",
          "color": "#F59E0B"
        },
        "amount": 50000,
        "currency": "NGN",
        "period": "MONTHLY",
        "startDate": "2026-02-04T17:58:46.786Z",
        "isActive": true,
        "createdAt": "2026-02-04T17:58:46.789Z",
        "updatedAt": "2026-02-04T17:58:46.789Z",
        "spent": 0,
        "remaining": 50000,
        "percentUsed": 0
      },
      {
        "id": "b7c2e5cb-990a-41c9-a38c-31502c54a129",
        "category": {
          "id": "transportation",
          "name": "Transportation",
          "icon": "car",
          "color": "#3B82F6"
        },
        "amount": 30000,
        "currency": "NGN",
        "period": "MONTHLY",
        "startDate": "2026-02-04T17:59:08.822Z",
        "isActive": true,
        "createdAt": "2026-02-04T17:59:08.822Z",
        "updatedAt": "2026-02-04T17:59:08.822Z",
        "spent": 0,
        "remaining": 30000,
        "percentUsed": 0
      }
    ],
    "count": 2,
    "totalBudget": 80000,
    "totalSpent": 0,
    "totalRemaining": 80000
  },
  "timestamp": "2026-02-04T17:59:08.873Z"
}

Budget3. GET /v1/finance/budgets/:id
--------------------------------------
{
  "success": true,
  "data": {
    "id": "b7c2e5cb-990a-41c9-a38c-31502c54a129",
    "category": {
      "id": "transportation",
      "name": "Transportation",
      "icon": "car",
      "color": "#3B82F6"
    },
    "amount": 30000,
    "currency": "NGN",
    "period": "MONTHLY",
    "startDate": "2026-02-04T17:59:08.822Z",
    "isActive": true,
    "createdAt": "2026-02-04T17:59:08.822Z",
    "updatedAt": "2026-02-04T17:59:08.822Z",
    "spent": 0,
    "remaining": 30000,
    "percentUsed": 0
  },
  "timestamp": "2026-02-04T17:59:08.886Z"
}

Budget4. PATCH /v1/finance/budgets/:id (Update amount)
--------------------------------------------------------
{
  "success": true,
  "data": {
    "id": "b7c2e5cb-990a-41c9-a38c-31502c54a129",
    "category": {
      "id": "transportation",
      "name": "Transportation",
      "icon": "car",
      "color": "#3B82F6"
    },
    "amount": 35000,
    "currency": "NGN",
    "period": "MONTHLY",
    "startDate": "2026-02-04T17:59:08.822Z",
    "isActive": true,
    "createdAt": "2026-02-04T17:59:08.822Z",
    "updatedAt": "2026-02-04T17:59:08.899Z",
    "spent": 0,
    "remaining": 35000,
    "percentUsed": 0
  },
  "timestamp": "2026-02-04T17:59:08.903Z"
}

Budget5. DELETE /v1/finance/budgets/:id
-----------------------------------------

HTTP Status: 204

Budget6. Verify deletion (isActive should be false)
-----------------------------------------------------
{
  "success": true,
  "data": {
    "id": "b7c2e5cb-990a-41c9-a38c-31502c54a129",
    "category": {
      "id": "transportation",
      "name": "Transportation",
      "icon": "car",
      "color": "#3B82F6"
    },
    "amount": 35000,
    "currency": "NGN",
    "period": "MONTHLY",
    "startDate": "2026-02-04T17:59:08.822Z",
    "isActive": false,
    "createdAt": "2026-02-04T17:59:08.822Z",
    "updatedAt": "2026-02-04T17:59:08.914Z",
    "spent": 0,
    "remaining": 35000,
    "percentUsed": 0
  },
  "timestamp": "2026-02-04T17:59:08.925Z"
}

==========================================
ALL ONBOARDING & FINANCIAL CRUD TESTS COMPLETE
==========================================

SUMMARY:
- Onboarding: All endpoints working
- Income CRUD: All endpoints working
- Savings CRUD: All endpoints working
- Investments CRUD: All endpoints working
- Debts CRUD: All endpoints working
- Goals CRUD: All endpoints working (including contribute)
- Budgets CRUD: All endpoints working
- Categories: Endpoint added and working
==========================================
